
scoreboard players operation tmp_respawn_time_left lobby = max_loading lobby
scoreboard players set tmp_20 lobby 20
execute run scoreboard players operation tmp_respawn_time_left lobby /= tmp_20 lobby
scoreboard players add tmp_respawn_time_left lobby 1

scoreboard players operation tmp_flag_max_countdown lobby = fallen_flag_max_countdown lobby
scoreboard players set tmp_20 lobby 20
scoreboard players operation tmp_flag_max_countdown lobby /= tmp_20 lobby

function battlegrounds:map_settings


tellraw @a {text:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",type:"text"}
tellraw @a {text:"=================",color:"gold",type:"text"}
#tellraw @a {"text":"GAME OPTIONS","color":"yellow"}
tellraw @a {text:" ",color:"gold",type:"text"}
execute if score map_type lobby matches 1 run tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Score to win ",color:"yellow",type:"text"},{text:"\n",type:"text"},{text:"<<<",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 3"}},{text:" ",type:"text"},{text:"<-",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 1"}},{text:" ",type:"text"},{score:{name:"score",objective:"lobby"},color:"red",type:"score"},{text:" ",type:"text"},{text:"->",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 2"}},{text:" ",type:"text"},{text:">>>",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 4"}}]
execute if score map_type lobby matches 2 run tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Kills to win ",color:"yellow",type:"text"},{text:"\n",type:"text"},{text:"<<<",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 3"}},{text:" ",type:"text"},{text:"<-",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 1"}},{text:" ",type:"text"},{score:{name:"dm_score",objective:"lobby"},color:"red",type:"score"},{text:" ",type:"text"},{text:"->",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 2"}},{text:" ",type:"text"},{text:">>>",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 4"}}]
execute if score map_type lobby matches 3 run tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Flags to capture ",color:"yellow",type:"text"},{text:"\n",type:"text"},{text:"<<<",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 3"}},{text:" ",type:"text"},{text:"<-",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 1"}},{text:" ",type:"text"},{score:{name:"ctf_score",objective:"lobby"},color:"red",type:"score"},{text:" ",type:"text"},{text:"->",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 2"}},{text:" ",type:"text"},{text:">>>",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 4"}}]
execute if score map_type lobby matches 3 run tellraw @a {text:" ",color:"gold",type:"text"}
execute if score map_type lobby matches 3 run tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Seconds for fallen flag to autoreturn ",color:"yellow",type:"text"},{text:"\n       ",type:"text"},{text:"<-",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 104"}},{text:" ",type:"text"},{score:{name:"tmp_flag_max_countdown",objective:"lobby"},color:"red",type:"score"},{text:" ",type:"text"},{text:"->",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 105"}}]
tellraw @a {text:" ",color:"gold",type:"text"}
tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Seconds to respawn ",color:"yellow",type:"text"},{text:"[!]",color:"gray",type:"text",hover_event:{action:"show_text",value:"If set to 4 or less, Slime Core cannot be played\n(for obvious balance reasons)."}},{text:"\n       ",type:"text"},{text:"<-",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 100"}},{text:" ",type:"text"},{score:{name:"tmp_respawn_time_left",objective:"lobby"},color:"red",type:"score"},{text:" ",type:"text"},{text:"->",color:"gold",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 101"}}]
tellraw @a {text:" ",color:"gold",type:"text"}
tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Wav mode ",color:"yellow",type:"text"},{text:"(details)",color:"gray",type:"text",hover_event:{action:"show_text",value:"'Wav mode' is an alternative way to play Songs of Greavesoyl.\nSprint is disabled for everyone, while basic movement speed and knockback resistance are increased accordingly.\nWav mode aims to make the game more tactical and slow paced."}}]
execute if score wav_mode lobby matches 1 run tellraw @a [{text:"     ",type:"text"},{text:"[",color:"dark_aqua",bold:1b,type:"text"},{text:"ON",color:"aqua",bold:1b,type:"text"},{text:"]",color:"dark_aqua",bold:1b,type:"text"},{text:"   ",type:"text"},{text:"[",color:"dark_gray",type:"text"},{text:"OFF",color:"gray",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 102"}},{text:"]",color:"dark_gray",type:"text"}]
execute if score wav_mode lobby matches 0 run tellraw @a [{text:"     ",type:"text"},{text:"[",color:"dark_gray",type:"text"},{text:"ON",color:"gray",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 103"}},{text:"]",color:"dark_gray",type:"text"},{text:"   ",type:"text"},{text:"[",color:"dark_aqua",bold:1b,type:"text"},{text:"OFF",color:"aqua",bold:1b,type:"text"},{text:"]",color:"dark_aqua",bold:1b,type:"text"}]
tellraw @a {text:" ",color:"gold",type:"text"}
tellraw @a [{text:"",bold:0b,type:"text"},{text:">",color:"gold",bold:1b,type:"text"},{text:" Save settings ",color:"yellow",type:"text"},{text:"(details)",color:"gray",type:"text",hover_event:{action:"show_text",value:"If turned off, after every match the game will reset to the default map and settings - Old Woods, 1000 points, Wav Mode disabled."}}]
execute if score memorize lobby matches 1 run tellraw @a [{text:"     ",type:"text"},{text:"[",color:"dark_aqua",bold:1b,type:"text"},{text:"ON",color:"aqua",bold:1b,type:"text"},{text:"]",color:"dark_aqua",bold:1b,type:"text"},{text:"   ",type:"text"},{text:"[",color:"dark_gray",type:"text"},{text:"OFF",color:"gray",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 104"}},{text:"]",color:"dark_gray",type:"text"}]
execute unless score memorize lobby matches 1 run tellraw @a [{text:"     ",type:"text"},{text:"[",color:"dark_gray",type:"text"},{text:"ON",color:"gray",type:"text",click_event:{action:"run_command",command:"/trigger LobbyTrigger set 105"}},{text:"]",color:"dark_gray",type:"text"},{text:"   ",type:"text"},{text:"[",color:"dark_aqua",bold:1b,type:"text"},{text:"OFF",color:"aqua",bold:1b,type:"text"},{text:"]",color:"dark_aqua",bold:1b,type:"text"}]

tellraw @a {text:" ",color:"gold",type:"text"}
tellraw @a {text:"=================",color:"gold",type:"text"}